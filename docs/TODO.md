# TODO AntiSpam Bot

## üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (MVP) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù

### –°–µ—Ä–≤–∏—Å—ã
- [x] **`services/moderation.py`** - –±–∞–Ω/–º—É—Ç/—Ä–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] **`services/links.py`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ `t.me/bot`
- [x] **`services/channels.py`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ whitelist/blacklist –∫–∞–Ω–∞–ª–æ–≤
- [x] **`services/bots.py`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ whitelist –±–æ—Ç–æ–≤
- [x] **`services/profiles.py`** - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ñ–∏–ª–µ–π GPT-–±–æ—Ç–æ–≤

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- [x] **`handlers/user.py`** - –Ω–æ–≤—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] **`handlers/channels.py`** - —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–∞–Ω–∞–ª–æ–≤ (sender_chat)
- [x] **`handlers/admin.py`** - –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

### –§–∏–ª—å—Ç—Ä—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- [x] **`filters/is_admin.py`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [x] **`filters/is_admin_or_silent.py`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∞ –∏–ª–∏ —Ç–∏—Ö–æ–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] **`keyboards/inline.py`** - inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- [x] **`keyboards/reply.py`** - –æ–±—ã—á–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
- [x] **`bot.py`** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤ –∏ middleware

### Middleware
- [x] **`middlewares/logging.py`** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
- [x] **`middlewares/ratelimit.py`** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] **`middlewares/dependency_injection.py`** - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üîß –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–ö–∞—á–µ—Å—Ç–≤–æ) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] **`tests/`** - unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] **`tests/conftest.py`** - —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] **`pytest.ini`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest

### –õ–∏–Ω—Ç–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] **`.pre-commit-config.yaml`** - pre-commit —Ö—É–∫–∏
- [x] **`pyproject.toml`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ black, ruff, mypy
- [x] **`.github/workflows/ci.yml`** - GitHub Actions CI

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] **`app/logging.py`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] **`logrotate`** - —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
- [x] **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏** - JSON —Ñ–æ—Ä–º–∞—Ç

## üóÑÔ∏è –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù

### –ú–æ–¥–µ–ª–∏
- [x] **`app/models/`** - SQLAlchemy –º–æ–¥–µ–ª–∏
- [x] **`app/models/user.py`** - –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] **`app/models/channel.py`** - –º–æ–¥–µ–ª—å –∫–∞–Ω–∞–ª–∞
- [x] **`app/models/bot.py`** - –º–æ–¥–µ–ª—å –±–æ—Ç–∞
- [x] **`app/models/moderation_log.py`** - –º–æ–¥–µ–ª—å –ª–æ–≥–æ–≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- [x] **`app/models/suspicious_profile.py`** - –º–æ–¥–µ–ª—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

### –ú–∏–≥—Ä–∞—Ü–∏–∏
- [x] **`alembic/`** - –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [x] **`alembic.ini`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è alembic
- [x] **`app/database.py`** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

## üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4 (–ü—Ä–æ–¥–∞–∫—à–µ–Ω)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] **–ú–µ—Ç—Ä–∏–∫–∏** - Prometheus –º–µ—Ç—Ä–∏–∫–∏
- [ ] **–ê–ª–µ—Ä—Ç—ã** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ ] **Health check** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ Telegram —Ç–æ–∫–µ–Ω–æ–≤
- [ ] **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
- [ ] **–ê—É–¥–∏—Ç** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- **MVP**: 8/8 –∑–∞–¥–∞—á (100%) ‚úÖ
- **–ö–∞—á–µ—Å—Ç–≤–æ**: 6/6 –∑–∞–¥–∞—á (100%) ‚úÖ
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: 6/6 –∑–∞–¥–∞—á (100%) ‚úÖ
- **–ü—Ä–æ–¥–∞–∫—à–µ–Ω**: 0/3 –∑–∞–¥–∞—á (0%) ‚è≥

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: 20/23 –∑–∞–¥–∞—á (87%) üéâ

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –°–µ—Ä–≤–∏—Å—ã
- [x] **`services/moderation.py`** - –±–∞–Ω/–º—É—Ç/—Ä–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] **`services/links.py`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ `t.me/bot`
- [x] **`services/channels.py`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ whitelist/blacklist –∫–∞–Ω–∞–ª–æ–≤
- [x] **`services/bots.py`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ whitelist –±–æ—Ç–æ–≤
- [x] **`services/profiles.py`** - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ñ–∏–ª–µ–π GPT-–±–æ—Ç–æ–≤

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- [x] **`handlers/user.py`** - –Ω–æ–≤—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] **`handlers/channels.py`** - —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–∞–Ω–∞–ª–æ–≤ (sender_chat)
- [x] **`handlers/admin.py`** - –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

### –§–∏–ª—å—Ç—Ä—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- [x] **`filters/is_admin.py`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [x] **`keyboards/inline.py`** - inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- [x] **`keyboards/reply.py`** - –æ–±—ã—á–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
- [x] **`bot.py`** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤ –∏ middleware

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] **`tests/`** - unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] **`tests/conftest.py`** - —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] **`pytest.ini`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest

### –õ–∏–Ω—Ç–µ—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] **`.pre-commit-config.yaml`** - pre-commit —Ö—É–∫–∏
- [x] **`pyproject.toml`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ black, ruff, mypy
- [x] **`.github/workflows/ci.yml`** - GitHub Actions CI

### –ú–æ–¥–µ–ª–∏
- [x] **`app/models/`** - SQLAlchemy –º–æ–¥–µ–ª–∏
- [x] **`app/models/user.py`** - –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] **`app/models/channel.py`** - –º–æ–¥–µ–ª—å –∫–∞–Ω–∞–ª–∞
- [x] **`app/models/bot.py`** - –º–æ–¥–µ–ª—å –±–æ—Ç–∞
- [x] **`app/models/moderation_log.py`** - –º–æ–¥–µ–ª—å –ª–æ–≥–æ–≤ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- [x] **`app/models/suspicious_profile.py`** - –º–æ–¥–µ–ª—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π

## ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **`app/logging.py`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] **`logrotate`** - —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
- [ ] **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏** - JSON —Ñ–æ—Ä–º–∞—Ç

### –ú–∏–≥—Ä–∞—Ü–∏–∏
- [ ] **`alembic/`** - –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] **`alembic.ini`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è alembic
- [ ] **`app/database.py`** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î (—É–ª—É—á—à–µ–Ω–∏—è)

## üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4 (–ü—Ä–æ–¥–∞–∫—à–µ–Ω)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] **–ú–µ—Ç—Ä–∏–∫–∏** - Prometheus –º–µ—Ç—Ä–∏–∫–∏
- [ ] **–ê–ª–µ—Ä—Ç—ã** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ ] **Health check** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ Telegram —Ç–æ–∫–µ–Ω–æ–≤
- [ ] **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
- [ ] **–ê—É–¥–∏—Ç** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
