# Redis Rate Limiting

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Redis –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**: Fixed Window, Sliding Window, Token Bucket
- **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞**: –í—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤
- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Redis –æ–ø–µ—Ä–∞—Ü–∏–∏
- **Fallback —Ä–µ–∂–∏–º**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π rate limiting –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis

## üìã –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ Rate Limiting

### 1. Fixed Window (–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ)
- **–ü—Ä–∏–Ω—Ü–∏–ø**: –°—á–µ—Ç—á–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ü—Ä–æ—Å—Ç–æ—Ç–∞, –Ω–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**: –í–æ–∑–º–æ–∂–Ω—ã –≤—Å–ø–ª–µ—Å–∫–∏ –≤ –Ω–∞—á–∞–ª–µ –æ–∫–Ω–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤ —Å —É–º–µ—Ä–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π

### 2. Sliding Window (–°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ)
- **–ü—Ä–∏–Ω—Ü–∏–ø**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Redis Sorted Set –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –¢–æ—á–Ω–æ—Å—Ç—å, –ø–ª–∞–≤–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**: –ë–æ–ª—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### 3. Token Bucket (–í–µ–¥—Ä–æ —Ç–æ–∫–µ–Ω–æ–≤)
- **–ü—Ä–∏–Ω—Ü–∏–ø**: –¢–æ–∫–µ–Ω—ã –ø–æ–ø–æ–ª–Ω—è—é—Ç—Å—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤—Å–ø–ª–µ—Å–∫–∏
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**: –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è burst-–Ω–∞–≥—Ä—É–∑–∫–∏

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Redis –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=true

# Rate limiting –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
REDIS_USER_LIMIT=10          # –õ–∏–º–∏—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
REDIS_ADMIN_LIMIT=100        # –õ–∏–º–∏—Ç –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
REDIS_INTERVAL=60            # –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
REDIS_STRATEGY=sliding_window # –°—Ç—Ä–∞—Ç–µ–≥–∏—è (fixed_window, sliding_window, token_bucket)
REDIS_BLOCK_DURATION=300     # –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∫–æ–¥–µ

```python
from app.middlewares.redis_rate_limit import RedisRateLimitMiddleware

middleware = RedisRateLimitMiddleware(
    user_limit=10,           # –õ–∏–º–∏—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    admin_limit=100,         # –õ–∏–º–∏—Ç –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
    interval=60,             # –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    strategy="sliding_window", # –°—Ç—Ä–∞—Ç–µ–≥–∏—è
    redis_key_prefix="rate_limit", # –ü—Ä–µ—Ñ–∏–∫—Å –∫–ª—é—á–µ–π
    block_duration=300       # –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
)
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **RedisService** (`app/services/redis.py`)
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º —Å Redis
   - –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (get, set, incr, etc.)
   - Connection pooling
   - Graceful shutdown

2. **RedisRateLimitMiddleware** (`app/middlewares/redis_rate_limit.py`)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ rate limiting
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
   - –ú–µ—Ö–∞–Ω–∏–∑–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
   - –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`app/config.py`)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Redis
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã rate limiting
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Validation ‚Üí Logging ‚Üí Redis Rate Limit ‚Üí DI ‚Üí Handler
                    ‚Üì
              [–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤]
                    ‚Üì
              [–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏]
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis

#### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
docker run -d --name redis -p 6379:6379 redis:7-alpine
```

#### Ubuntu/Debian
```bash
sudo apt update
sudo apt install redis-server
sudo systemctl start redis-server
sudo systemctl enable redis-server
```

#### Windows
```bash
# –ß–µ—Ä–µ–∑ Chocolatey
choco install redis-64

# –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å —Å https://github.com/microsoftarchive/redis/releases
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install redis>=5.0.0 aioredis>=2.0.0
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```bash
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=true
REDIS_USER_LIMIT=10
REDIS_ADMIN_LIMIT=100
REDIS_STRATEGY=sliding_window
```

### 4. –ó–∞–ø—É—Å–∫ —Å Docker Compose

```bash
# –ó–∞–ø—É—Å–∫ —Å Redis
docker-compose -f docker-compose.redis.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.redis.yml ps
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis
python scripts/test_redis_rate_limit.py

# –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
python -c "
import asyncio
from scripts.test_redis_rate_limit import test_performance
asyncio.run(test_performance())
"
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å Redis**:
   ```bash
   REDIS_ENABLED=true python bot.py
   ```

2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π** –±—ã—Å—Ç—Ä–æ:
   ```
   /help
   /help
   /help
   ...
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É**:
   - –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
   - –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Redis –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
redis-cli

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–ª—é—á–µ–π rate limiting
KEYS rate_limit:*

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
KEYS rate_limit:blocked:*

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–∞–º—è—Ç–∏
INFO memory

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–∞–Ω–¥
MONITOR
```

### –õ–æ–≥–∏

Rate limiting —Å–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å —É—Ä–æ–≤–Ω–µ–º WARNING:

```
WARNING:app.middlewares.redis_rate_limit:Rate limit –ø—Ä–µ–≤—ã—à–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 12345 (admin: False, limit: 10)
WARNING:app.middlewares.redis_rate_limit:–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 12345 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞ 300 —Å–µ–∫—É–Ω–¥
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞**: `ConnectionError: Error connecting to Redis`

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Redis –∑–∞–ø—É—â–µ–Ω: `redis-cli ping`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `REDIS_URL`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ñ–∞–π—Ä–≤–æ–ª

### –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

**–ü—Ä–æ–±–ª–µ–º–∞**: Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏

**–†–µ—à–µ–Ω–∏–µ**:
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `maxmemory` –≤ Redis –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `allkeys-lru` –ø–æ–ª–∏—Ç–∏–∫—É
3. –£–º–µ–Ω—å—à–∏—Ç–µ `block_duration` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—á–∏—Å—Ç–∫–∏

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: Rate limiting –∑–∞–º–µ–¥–ª—è–µ—Ç –±–æ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ**:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sliding_window` —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
2. –£–≤–µ–ª–∏—á—å—Ç–µ `redis_interval`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ connection pooling
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –Ω–∞ SSD

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é Redis**:
   ```bash
   REDIS_URL=redis://username:password@localhost:6379/0
   ```

2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ Redis**:
   ```bash
   # –í redis.conf
   bind 127.0.0.1
   requirepass your_strong_password
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TLS**:
   ```bash
   REDIS_URL=rediss://localhost:6380/0
   ```

4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –∫–ª—é—á–∏**:
   ```bash
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ Redis EXPIRE
   ```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ë–µ–Ω—á–º–∞—Ä–∫–∏

- **Sliding Window**: ~1000 RPS –Ω–∞ –æ–¥–Ω–æ–º —è–¥—Ä–µ
- **Fixed Window**: ~2000 RPS –Ω–∞ –æ–¥–Ω–æ–º —è–¥—Ä–µ  
- **Token Bucket**: ~1500 RPS –Ω–∞ –æ–¥–Ω–æ–º —è–¥—Ä–µ

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pipeline** –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ connection pooling**
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis Cluster** –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ Redis INFO

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

### –° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –Ω–∞ Redis rate limiting

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Redis** (—Å–º. —Ä–∞–∑–¥–µ–ª —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
2. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**:
   ```bash
   REDIS_ENABLED=true
   REDIS_URL=redis://localhost:6379/0
   ```
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É** —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã

### –û–±—Ä–∞—Ç–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

1. **–û—Ç–∫–ª—é—á–∏—Ç–µ Redis**:
   ```bash
   REDIS_ENABLED=false
   ```
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**
3. **–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è** –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π rate limiting

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Redis Documentation](https://redis.io/documentation)
- [aioredis Documentation](https://aioredis.readthedocs.io/)
- [Rate Limiting Patterns](https://redis.io/docs/manual/patterns/distributed-locks/)
- [Redis Best Practices](https://redis.io/docs/manual/patterns/distributed-locks/)
